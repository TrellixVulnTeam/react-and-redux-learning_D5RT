{"ast":null,"code":"var _jsxFileName = \"/Users/james_cameron-mowat/pics/src/components/app.js\";\nimport React from 'react'; // imports we have created by convention go at the bottom\n\nimport unsplash from '../api/unsplash';\nimport SearchBar from './SearchBar'; // refactored to class based component so we can access search\n// bar from here\n// const App = () => {\n// \treturn (\n// \t\t<div className=\"ui container\" \n// \t\tstyle={{marginTop: '10px'}}>\n// \t\t\t<SearchBar/>\n// \t\t</div>\n// \t\t);\n// };\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: []\n    };\n\n    this.onSearchSubmit = async term => {\n      const response = await unsplash.get('/search/photos', {\n        params: {\n          query: term\n        } // unsplash api specifies ?query=<searchterm>\n        // promise (success) if that happens we move to then\n\n      }); // checking we have recieved our term\n      // console.log(term);\n      // 1st arg: url, 2nd arg: can be a header object or params\n      // this is the response we want\n      // console.log(response.data.results);\n      // set state to create re-render\n      // console.log(this);\n\n      this.setState({\n        images: response.data.results\n      }); // we initially had an error where we were retrieving the wrong 'this'\n      // we changed onSearchSubmit function to an arrow function with the async keyword in the proper place\n    };\n  }\n\n  // - we can call onSubmit anything because we are creating it, but in SearchBar it needs to be very specific\n  // because it is a normal JSX element, not a reference\n  // - we then wrote a result on the JSX to tell us that images\n  // came through on our API request\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ui container\",\n      style: {\n        marginTop: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        onSubmit: this.onSearchSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }, this), \"Found: \", this.state.images.length, \" images\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/james_cameron-mowat/pics/src/components/app.js"],"names":["React","unsplash","SearchBar","App","Component","state","images","onSearchSubmit","term","response","get","params","query","setState","data","results","render","marginTop","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,GAAN,SAAkBH,KAAK,CAACI,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAEjCC,KAFiC,GAEzB;AAACC,MAAAA,MAAM,EAAE;AAAT,KAFyB;;AAAA,SAMjCC,cANiC,GAMhB,MAAOC,IAAP,IAAgB;AAChC,YAAMC,QAAQ,GAAG,MAAMR,QAAQ,CAACS,GAAT,CAAa,gBAAb,EAA+B;AACpDC,QAAAA,MAAM,EAAE;AAACC,UAAAA,KAAK,EAAEJ;AAAR,SAD4C,CAC7B;AACvB;;AAFoD,OAA/B,CAAvB,CADgC,CAKhC;AACA;AACA;AAEA;AACA;AAEA;AACA;;AACA,WAAKK,QAAL,CAAc;AAACP,QAAAA,MAAM,EAAEG,QAAQ,CAACK,IAAT,CAAcC;AAAvB,OAAd,EAdgC,CAgBhC;AACA;AACA,KAxBgC;AAAA;;AAyBlC;AACA;AACA;AACA;AACCC,EAAAA,MAAM,GAAG;AACR,wBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAE;AAAZ,OAArC;AAAA,8BACC,QAAC,SAAD;AAAW,QAAA,QAAQ,EAAE,KAAKV;AAA1B;AAAA;AAAA;AAAA;AAAA,cADD,aAEQ,KAAKF,KAAL,CAAWC,MAAX,CAAkBY,MAF1B;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMA;;AApCgC;;AAuClC,eAAef,GAAf","sourcesContent":["import React from 'react';\n// imports we have created by convention go at the bottom\nimport unsplash from '../api/unsplash';\nimport SearchBar from './SearchBar';\n\n\n// refactored to class based component so we can access search\n// bar from here\n// const App = () => {\n// \treturn (\n// \t\t<div className=\"ui container\" \n// \t\tstyle={{marginTop: '10px'}}>\n// \t\t\t<SearchBar/>\n// \t\t</div>\n// \t\t);\n// };\n\nclass App extends React.Component {\n\n\tstate = {images: []}; // we expect an array of images as default\n\n// here we can start doing data loading from inside the app\n// async keyword we can use axios await function instead of a standard promise, then. Can be easier\n\tonSearchSubmit = async (term) => {\n\t\tconst response = await unsplash.get('/search/photos', {\n\t\t\t\tparams: {query: term}, // unsplash api specifies ?query=<searchterm>\n\t\t\t\t// promise (success) if that happens we move to then\n\t\t});\n\t\t// checking we have recieved our term\n\t\t// console.log(term);\n\t\t// 1st arg: url, 2nd arg: can be a header object or params\n\t\t\n\t\t// this is the response we want\n\t\t// console.log(response.data.results);\n\n\t\t// set state to create re-render\n\t\t// console.log(this);\n\t\tthis.setState({images: response.data.results});\n\n\t\t// we initially had an error where we were retrieving the wrong 'this'\n\t\t// we changed onSearchSubmit function to an arrow function with the async keyword in the proper place\n\t};\n// - we can call onSubmit anything because we are creating it, but in SearchBar it needs to be very specific\n// because it is a normal JSX element, not a reference\n// - we then wrote a result on the JSX to tell us that images\n// came through on our API request\n\trender() {\n\t\treturn (\n\t\t\t\t<div className=\"ui container\" style={{marginTop: '10px'}}>\n\t\t\t\t\t<SearchBar onSubmit={this.onSearchSubmit}/>\n\t\t\t\tFound: {this.state.images.length} images\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}